<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="sales">
	
	<select id="selectAll" resultType="jcappy.sales.SalesVo" parameterType="jcappy.sales.SalesVo">
		SELECT YEAR(odate) AS YEAR, MONTH(odate) AS MONTH, SUM(ol_count * ol_price) AS price 
		FROM orderinfo oi JOIN orderlist AS ol ON oi.ono = ol.ono
		GROUP BY YEAR(odate), MONTH(odate)
		ORDER BY YEAR DESC, MONTH desc
	</select>
	
</mapper>